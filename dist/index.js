(()=>{"use strict";window.onload=function(){function t(t,e,n){var o=document.getElementById(t);o.onchange=function(){n.test(this.value)||(this.nextElementSibling.innerHTML=e,this.value="")},o.onfocus=function(){this.nextElementSibling.innerHTML=""}}t("tel","手机格式不正确",/^0?1[3-9]\d{9}$/),t("name","昵称只支持汉字字母数字组合，1-8个字符",/^[0-9a-zA-Z\u4e00-\u9fa5]{1,8}$/),t("password","密码只支持字母数字下划线.?!$组合，6-16个字符",/^[\w\.\?\$!]{6,16}$/);var e=document.getElementById("password"),n=document.getElementById("checkagain");n.onchange=function(){this.value!=e.value&&(this.nextElementSibling.innerHTML="两次密码不一致",this.value="")},n.onfocus=function(){this.nextElementSibling.innerHTML=""},document.querySelector("input[type='button']").onclick=function(){for(var t=!0,e=document.querySelectorAll(".box0>div"),n=0;n<e.length;n++)""!=e[n].innerHTML&&(t=!1);for(var o=!0,l=document.querySelectorAll("input"),i=0;i<l.length;i++)""==l[i].value&&(o=!1);t?o?(document.querySelector(".box0").style.display="none",document.querySelector(".box").style.visibility="visible",console.log(document.querySelector(".box"))):alert("输入框不能为空"):alert("请更改错误信息")},function(){function t(t){return document.querySelectorAll(t)}function e(e){var n=t(e)[0],o=getComputedStyle(n);return{width:parseFloat(o.width),height:parseFloat(o.height)}}var n=e(".img-box"),o=e(".pin"),l=e(".white"),i=e(".block"),a=t(".pin")[0],u=Math.random()*(n.width/2-o.width),r=Math.random()*(n.height/2-o.height);a.style.left=u+"px",a.style.top=r+"px";var s=t(".white")[0],c=Math.random()*(n.width-l.width);c=c<n.width/2?n.width/2:c,s.style.left=c+"px",s.style.top=r+"px",a.style.backgroundPosition=-c+"px "+-r+"px";var d=t(".block")[0];d.style.left=u+"px";var h=t(".layer")[0],y=0;d.onmousedown=function(t){console.log(this);var e=parseFloat(getComputedStyle(this).left);y=t.offsetX+e,h.style.display="block"},h.onmousemove=function(t){var e=t.offsetX,o=e-y,l=parseFloat(getComputedStyle(d).left)+o,u=n.width-i.width;l=l<=0?0:l>=u?u:l,d.style.left=l+"px",a.style.left=l+"px",y=e},h.onmouseup=function(){this.style.display="none";var t=parseFloat(getComputedStyle(a).left);Math.abs(t-c)<=5?(alert("验证成功"),a.style.left=c+"px"):alert("验证失败")}}()}})();